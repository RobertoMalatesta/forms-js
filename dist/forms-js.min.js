!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.formsjs=t()}(this,function(){var e;!function(e){!function(e){e[e.BOOLEAN="boolean"]="BOOLEAN",e[e.FLOAT="float"]="FLOAT",e[e.INTEGER="integer"]="INTEGER",e[e.STRING="string"]="STRING"}(e.ValidationType||(e.ValidationType={}));e.ValidationType}(e||(e={}));var e;!function(e){var t=function(){function e(){}return e.validate=function(e,t,i){var r=[];if(i.validators){var a="Value ${value} failed custom validation.";i.validators.forEach(function(i){var n=i(e,t);n instanceof Promise?r.push(n):n||r.push(Promise.reject(a))})}return r},e}();e.CustomValidator=t}(e||(e={}));var e;!function(e){var t=function(){function e(){}return e.validate=function(e,t,i){if(!i["enum"]||i["enum"].indexOf(e)>=0)return Promise.resolve();var r=i.patternFailureMessage||"The value for ${value} is not in the list of allowed values";return r=r.replace("${value}",e),Promise.reject(r)},e}();e.EnumValidator=t}(e||(e={}));var e;!function(e){var t=function(){function e(){}return e.validate=function(e,t,i){var r;return i.min&&("string"==typeof e&&e.length<i.min?r=i.minFailureMessage||"Must be at least ${min} characters long.":"number"==typeof e&&e<i.min&&(r=i.minFailureMessage||"Must be at least ${min}."),r)?(r=r.replace("${value}",e).replace("${min}",i.min),Promise.reject(r)):i.max&&("string"==typeof e&&e.length>i.max?r=i.maxFailureMessage||"Must be no more than ${max} characters long.":"number"==typeof e&&e>i.max&&(r=i.maxFailureMessage||"Must be no more than ${max}."),r)?(r=r.replace("${value}",e).replace("${max}",i.max),Promise.reject(r)):Promise.resolve()},e}();e.MinMaxValidator=t}(e||(e={}));var e;!function(e){var t=function(){function e(){}return e.validate=function(e,t,i){if(!i.pattern||i.pattern.exec(e))return Promise.resolve();var r=i.patternFailureMessage||"The value for ${value} does not match the required pattern";return r=r.replace("${value}",e),Promise.reject(r)},e}();e.PatternValidator=t}(e||(e={}));var e;!function(e){var t=function(){function e(){}return e.validate=function(e,t,i){return!i.required||e?Promise.resolve():Promise.reject(i.requiredFailureMessage||"This is a required field")},e}();e.RequiredValidator=t}(e||(e={}));var e;!function(e){var t=function(){function t(){}return t.validate=function(t,i,r){if(r.type){var a=t.toString(),n=Number(t),o=r.typeFailureMessage||"This is a required field";switch(r.type){case e.ValidationType.BOOLEAN:if("true"!=a&&"false"!=a)return Promise.reject(o);break;case e.ValidationType.FLOAT:if(a&&isNaN(n))return Promise.reject(o);break;case e.ValidationType.INTEGER:if(a&&(isNaN(n)||n%1!==0))return Promise.reject(o);break;case e.ValidationType.STRING:}}return Promise.resolve()},t}();e.TypeValidator=t}(e||(e={}));var e;!function(e){var t=function(){function e(e){this.promises_=e||[],this.failureMessages_=[]}return e.prototype.add=function(e){var t=this;return this.promises_.push(e),e.then(function(){t.markCompleted_(e),t.checkForCompletion_()},function(i){t.failureMessages_.push(i),t.markCompleted_(e),t.checkForCompletion_()}),this},e.prototype.addAll=function(e){var t=this;return e.forEach(function(e){return t.add(e)}),this},e.prototype.build=function(){var e=this;return this.promise_=new Promise(function(t,i){e.promiseResolver_=t,e.promiseRejecter_=i}),this.checkForCompletion_(),this.promise_},e.prototype.checkForCompletion_=function(){this.promise_&&0===this.promises_.length&&(this.failureMessages_.length>0?this.promiseRejecter_(this.failureMessages_):this.promiseResolver_())},e.prototype.markCompleted_=function(e){this.promises_.splice(this.promises_.indexOf(e),1)},e}();e.ValidationPromiseBuilder=t}(e||(e={}));var e;return function(e){var t=function(){function t(){}return t.validateField=function(t,i,r){var a=i[t],n=r[t];return(new e.ValidationPromiseBuilder).add(e.RequiredValidator.validate(a,i,n)).add(e.TypeValidator.validate(a,i,n)).add(e.MinMaxValidator.validate(a,i,n)).add(e.EnumValidator.validate(a,i,n)).add(e.PatternValidator.validate(a,i,n)).addAll(e.CustomValidator.validate(a,i,n)).build()},t}();e.ValidationService=t}(e||(e={})),e});
//# sourceMappingURL=forms-js.min.js.map
!function(e,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():e.formsjs=i()}(this,function(){var e;!function(e){!function(e){e[e.BOOLEAN="boolean"]="BOOLEAN",e[e.FLOAT="float"]="FLOAT",e[e.INTEGER="integer"]="INTEGER",e[e.STRING="string"]="STRING"}(e.ValidationType||(e.ValidationType={}));e.ValidationType}(e||(e={}));var e;!function(e){var i=function(){function e(){}return e.validate=function(e,i,t){var r=[];if(t.validators){var a="Value ${value} failed custom validation.";t.validators.forEach(function(t){var n=t(e,i);n instanceof Promise?r.push(n):n||r.push(Promise.reject(a))})}return r},e}();e.CustomValidator=i}(e||(e={}));var e;!function(e){var i=function(){function e(){}return e.validate=function(e,i,t){if(!t["enum"]||t["enum"].indexOf(e)>=0)return Promise.resolve();var r=t.patternFailureMessage||"The value for ${value} is not in the list of allowed values";return r=r.replace("${value}",e),Promise.reject(r)},e}();e.EnumValidator=i}(e||(e={}));var e;!function(e){var i=function(){function e(){}return e.validate=function(e,i,t){var r;return t.min&&("string"==typeof e&&e.length<t.min?r=t.minFailureMessage||"Must be at least ${min} characters long.":"number"==typeof e&&e<t.min&&(r=t.minFailureMessage||"Must be at least ${min}."),r)?(r=r.replace("${value}",e).replace("${min}",t.min),Promise.reject(r)):t.max&&("string"==typeof e&&e.length>t.max?r=t.maxFailureMessage||"Must be no more than ${max} characters long.":"number"==typeof e&&e>t.max&&(r=t.maxFailureMessage||"Must be no more than ${max}."),r)?(r=r.replace("${value}",e).replace("${max}",t.max),Promise.reject(r)):Promise.resolve()},e}();e.MinMaxValidator=i}(e||(e={}));var e;!function(e){var i=function(){function e(){}return e.validate=function(e,i,t){if(!t.pattern||t.pattern.exec(e))return Promise.resolve();var r=t.patternFailureMessage||"The value for ${value} does not match the required pattern";return r=r.replace("${value}",e),Promise.reject(r)},e}();e.PatternValidator=i}(e||(e={}));var e;!function(e){var i=function(){function e(){}return e.validate=function(e,i,t){return!t.required||e?Promise.resolve():Promise.reject(t.requiredFailureMessage||"This is a required field")},e}();e.RequiredValidator=i}(e||(e={}));var e;!function(e){var i=function(){function i(){}return i.validate=function(i,t,r){if(r.type){var a=void 0!==i&&null!==i?i.toString():void 0,n=Number(i),o=r.typeFailureMessage||"This is a required field";switch(r.type){case e.ValidationType.BOOLEAN:if(a&&"true"!=a&&"false"!=a)return Promise.reject(o);break;case e.ValidationType.FLOAT:if(a&&isNaN(n))return Promise.reject(o);break;case e.ValidationType.INTEGER:if(a&&(isNaN(n)||n%1!==0))return Promise.reject(o);break;case e.ValidationType.STRING:}}return Promise.resolve()},i}();e.TypeValidator=i}(e||(e={}));var e;!function(e){var i=function(){function e(e){this.promises_=e||[],this.failureMessages_=[]}return e.prototype.add=function(e){var i=this;return this.promises_.push(e),e.then(function(){i.markCompleted_(e),i.checkForCompletion_()},function(t){i.failureMessages_.push(t),i.markCompleted_(e),i.checkForCompletion_()}),this},e.prototype.addAll=function(e){var i=this;return e.forEach(function(e){return i.add(e)}),this},e.prototype.build=function(){var e=this;return this.promise_=new Promise(function(i,t){e.promiseResolver_=i,e.promiseRejecter_=t}),this.checkForCompletion_(),this.promise_},e.prototype.checkForCompletion_=function(){this.promise_&&0===this.promises_.length&&(this.failureMessages_.length>0?this.promiseRejecter_(this.failureMessages_):this.promiseResolver_())},e.prototype.markCompleted_=function(e){this.promises_.splice(this.promises_.indexOf(e),1)},e}();e.ValidationPromiseBuilder=i}(e||(e={}));var e;return function(e){var i=function(){function i(){}return i.validateField=function(i,t,r){var a=t[i],n=r[i];return(new e.ValidationPromiseBuilder).add(e.RequiredValidator.validate(a,t,n)).add(e.TypeValidator.validate(a,t,n)).add(e.MinMaxValidator.validate(a,t,n)).add(e.EnumValidator.validate(a,t,n)).add(e.PatternValidator.validate(a,t,n)).addAll(e.CustomValidator.validate(a,t,n)).build()},i}();e.ValidationService=i}(e||(e={})),e});
//# sourceMappingURL=forms-js.min.js.map
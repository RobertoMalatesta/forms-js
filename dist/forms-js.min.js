!function(e,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():e.formsjs=i()}(this,function(){var e;!function(e){var i=function(){function i(){this.strings_=new e.Strings}return i.prototype.createValidationService=function(){return new e.ValidationService(this.strings)},Object.defineProperty(i.prototype,"strings",{get:function(){return this.strings_},set:function(e){this.strings_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"validationSchema",{get:function(){return this.validationSchema_},set:function(e){this.validationSchema_=e},enumerable:!0,configurable:!0}),i}();e.Form=i}(e||(e={}));var e;!function(e){var i=function(){function e(){this.booleanTypeValidationFailed_=e.booleanTypeValidationFailed,this.customValidationFailed_=e.customValidationFailed,this.enumerationValidationFailed_=e.enumerationValidationFailed,this.floatTypeValidationFailed_=e.floatTypeValidationFailed,this.integerTypeValidationFailed_=e.integerTypeValidationFailed,this.maximumNumberValidationFailed_=e.maximumNumberValidationFailed,this.maxStringLengthValidationFailed_=e.maxStringLengthValidationFailed,this.minimumNumberValidationFailed_=e.minimumNumberValidationFailed,this.minStringLengthValidationFailed_=e.minStringLengthValidationFailed,this.patternValidationFailed_=e.patternValidationFailed,this.requiredValidationFailed_=e.requiredValidationFailed,this.stringTypeValidationFailed_=e.stringTypeValidationFailed}return Object.defineProperty(e.prototype,"booleanTypeValidationFailed",{get:function(){return this.booleanTypeValidationFailed_},set:function(e){this.booleanTypeValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customValidationFailed",{get:function(){return this.customValidationFailed_},set:function(e){this.customValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enumerationValidationFailed",{get:function(){return this.enumerationValidationFailed_},set:function(e){this.enumerationValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"floatTypeValidationFailed",{get:function(){return this.floatTypeValidationFailed_},set:function(e){this.floatTypeValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"integerTypeValidationFailed",{get:function(){return this.integerTypeValidationFailed_},set:function(e){this.integerTypeValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumNumberValidationFailed",{get:function(){return this.maximumNumberValidationFailed_},set:function(e){this.maximumNumberValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxStringLengthValidationFailed",{get:function(){return this.maxStringLengthValidationFailed_},set:function(e){this.maxStringLengthValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumNumberValidationFailed",{get:function(){return this.minimumNumberValidationFailed_},set:function(e){this.minimumNumberValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minStringLengthValidationFailed",{get:function(){return this.minStringLengthValidationFailed_},set:function(e){this.minStringLengthValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patternValidationFailed",{get:function(){return this.patternValidationFailed_},set:function(e){this.patternValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requiredValidationFailed",{get:function(){return this.requiredValidationFailed_},set:function(e){this.requiredValidationFailed_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringTypeValidationFailed",{get:function(){return this.stringTypeValidationFailed_},set:function(e){this.stringTypeValidationFailed_=e},enumerable:!0,configurable:!0}),e.booleanTypeValidationFailed="${value} must be a boolean.",e.customValidationFailed="Value ${value} failed custom validation.",e.enumerationValidationFailed="The value for ${value} is not in the list of allowed values",e.floatTypeValidationFailed="${value} must be a float.",e.integerTypeValidationFailed="${value} must be an integer.",e.maximumNumberValidationFailed="Must be no more than ${max}.",e.maxStringLengthValidationFailed="Must be no more than ${max} characters long.",e.minimumNumberValidationFailed="Must be at least ${min}.",e.minStringLengthValidationFailed="Must be at least ${min} characters long.",e.patternValidationFailed="The value for ${value} does not match the required pattern",e.requiredValidationFailed="This is a required field.",e.stringTypeValidationFailed="${value} must be a string.",e}();e.Strings=i}(e||(e={}));var e;!function(e){!function(e){e[e.BOOLEAN="boolean"]="BOOLEAN",e[e.FLOAT="float"]="FLOAT",e[e.INTEGER="integer"]="INTEGER",e[e.STRING="string"]="STRING"}(e.ValidationType||(e.ValidationType={}));e.ValidationType}(e||(e={}));var e;!function(e){var i=function(){function e(){}return e.flatten=function(e){for(var i=[],t=[{object:e,prefix:null}];;){if(0===t.length)break;var a=t.pop(),n=a.prefix?a.prefix+".":"";if("object"==typeof a.object)for(var r in a.object){var o=n+r,l=a.object[r];i.push(o),t.push({object:l,prefix:o})}}return i},e}();e.Flatten=i}(e||(e={}));var e;!function(e){var i=function(){function e(e){this.promises_=e||[],this.failureMessages_=[]}return e.prototype.add=function(e){var i=this;return e.forEach(function(e){i.promises_.push(e),e.then(function(){i.markCompleted_(e),i.checkForCompletion_()},function(t){i.failureMessages_.push(t),i.markCompleted_(e),i.checkForCompletion_()})}),this},e.prototype.build=function(){var e=this;return this.promise_=new Promise(function(i,t){e.promiseResolver_=i,e.promiseRejecter_=t}),this.checkForCompletion_(),this.promise_},e.prototype.checkForCompletion_=function(){this.promise_&&0===this.promises_.length&&(this.failureMessages_.length>0?this.promiseRejecter_(this.failureMessages_):this.promiseResolver_())},e.prototype.markCompleted_=function(e){this.promises_.splice(this.promises_.indexOf(e),1)},e}();e.ValidationPromiseBuilder=i}(e||(e={}));var e;!function(e){var i=function(){function i(i){this.strings_=i||new e.Strings}return Object.defineProperty(i.prototype,"strings",{get:function(){return this.strings_},set:function(e){this.strings_=e},enumerable:!0,configurable:!0}),i.prototype.validateField=function(i,t,a){var n=t[i],r=a[i];return(new e.ValidationPromiseBuilder).add(new e.RequiredValidator(this.strings).validate(n,t,r)).add(new e.TypeValidator(this.strings).validate(n,t,r)).add(new e.MinMaxValidator(this.strings).validate(n,t,r)).add(new e.EnumValidator(this.strings).validate(n,t,r)).add(new e.PatternValidator(this.strings).validate(n,t,r)).add(new e.CustomValidator(this.strings).validate(n,t,r)).build()},i}();e.ValidationService=i}(e||(e={}));var e;!function(e){var i=function(){function i(i){this.strings_=i||new e.Strings}return Object.defineProperty(i.prototype,"strings",{get:function(){return this.strings_},set:function(e){this.strings_=e},enumerable:!0,configurable:!0}),i.prototype.validate=function(){throw Error("Abstract validate method must be overridden.")},i}();e.AbstractValidator=i}(e||(e={}));var e,i=this.__extends||function(e,i){function t(){this.constructor=e}for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a]);t.prototype=i.prototype,e.prototype=new t};!function(e){var t=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.validate=function(e,i,t){var a=this,n=[];return t.validators&&t.validators.forEach(function(t){var r=t(e,i);r instanceof Promise?n.push(new Promise(function(i,t){r.then(function(){i()},function(i){var n=i||a.strings.customValidationFailed;n=n.replace("${value}",e),t(n)})})):r||n.push(Promise.reject(a.strings.customValidationFailed))}),n},t}(e.AbstractValidator);e.CustomValidator=t}(e||(e={}));var e;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.validate=function(e,i,t){var a=[];if(t.enumeration&&t.enumeration.indexOf(e)<0){var n=t.enumerationFailureMessage||this.strings.enumerationValidationFailed;n=n.replace("${value}",e),a.push(Promise.reject(n))}return a},t}(e.AbstractValidator);e.EnumValidator=t}(e||(e={}));var e;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.validate=function(e,i,t){var a,n=[];return t.min&&(a="string"==typeof e&&e.length<t.min?t.minFailureMessage||this.strings.minStringLengthValidationFailed:"number"==typeof e&&e<t.min?t.minFailureMessage||this.strings.minimumNumberValidationFailed:null,a&&(a=a.replace("${value}",e).replace("${min}",t.min),n.push(Promise.reject(a)))),t.max&&(a="string"==typeof e&&e.length>t.max?t.maxFailureMessage||this.strings.maxStringLengthValidationFailed:"number"==typeof e&&e>t.max?t.maxFailureMessage||this.strings.maximumNumberValidationFailed:null,a&&(a=a.replace("${value}",e).replace("${max}",t.max),n.push(Promise.reject(a)))),n},t}(e.AbstractValidator);e.MinMaxValidator=t}(e||(e={}));var e;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.validate=function(e,i,t){var a=[];if(t.pattern&&!t.pattern.exec(e)){var n=t.patternFailureMessage||this.strings.patternValidationFailed;n=n.replace("${value}",e),a.push(Promise.reject(n))}return a},t}(e.AbstractValidator);e.PatternValidator=t}(e||(e={}));var e;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.validate=function(e,i,t){var a=[];return t.required&&!e&&a.push(Promise.reject(t.requiredFailureMessage||this.strings.requiredValidationFailed)),a},t}(e.AbstractValidator);e.RequiredValidator=t}(e||(e={}));var e;return function(e){var t=function(t){function a(){t.apply(this,arguments)}return i(a,t),a.prototype.validate=function(i,t,a){var n=[];if(a.type){var r,o=void 0!==i&&null!==i?i.toString():void 0,l=Number(i);switch(a.type){case e.ValidationType.BOOLEAN:o&&"true"!=o&&"false"!=o&&(r=a.typeFailureMessage||this.strings.booleanTypeValidationFailed,r=r.replace("${value}",i),n.push(Promise.reject(r)));break;case e.ValidationType.FLOAT:o&&isNaN(l)&&(r=a.typeFailureMessage||this.strings.floatTypeValidationFailed,r=r.replace("${value}",i),n.push(Promise.reject(r)));break;case e.ValidationType.INTEGER:o&&(isNaN(l)||l%1!==0)&&(r=a.typeFailureMessage||this.strings.integerTypeValidationFailed,r=r.replace("${value}",i),n.push(Promise.reject(r)));break;case e.ValidationType.STRING:default:o&&"string"!=typeof i&&(r=a.typeFailureMessage||this.strings.stringTypeValidationFailed,r=r.replace("${value}",i),n.push(Promise.reject(r)))}}return n},a}(e.AbstractValidator);e.TypeValidator=t}(e||(e={})),e});
//# sourceMappingURL=forms-js.min.js.map
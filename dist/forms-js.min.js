!function(i,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():i.formsjs=e()}(this,function(){var i;!function(i){var e=function(){function e(){this.strings_=new i.Strings}return e.prototype.createValidationService=function(){return new i.ValidationService(this.strings)},Object.defineProperty(e.prototype,"strings",{get:function(){return this.strings_},set:function(i){this.strings_=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validationSchema",{get:function(){return this.validationSchema_},set:function(i){this.validationSchema_=i},enumerable:!0,configurable:!0}),e}();i.Form=e}(i||(i={}));var i;!function(i){var e=function(){function i(){this.booleanTypeValidationFailed_=i.booleanTypeValidationFailed,this.customValidationFailed_=i.customValidationFailed,this.enumValidationFailed_=i.enumValidationFailed,this.floatTypeValidationFailed_=i.floatTypeValidationFailed,this.integerTypeValidationFailed_=i.integerTypeValidationFailed,this.maximumNumberValidationFailed_=i.maximumNumberValidationFailed,this.maxStringLengthValidationFailed_=i.maxStringLengthValidationFailed,this.minimumNumberValidationFailed_=i.minimumNumberValidationFailed,this.minStringLengthValidationFailed_=i.minStringLengthValidationFailed,this.patternValidationFailed_=i.patternValidationFailed,this.requiredValidationFailed_=i.requiredValidationFailed,this.stringTypeValidationFailed_=i.stringTypeValidationFailed}return Object.defineProperty(i.prototype,"booleanTypeValidationFailed",{get:function(){return this.booleanTypeValidationFailed_},set:function(i){this.booleanTypeValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"customValidationFailed",{get:function(){return this.customValidationFailed_},set:function(i){this.customValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enumValidationFailed",{get:function(){return this.enumValidationFailed_},set:function(i){this.enumValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"floatTypeValidationFailed",{get:function(){return this.floatTypeValidationFailed_},set:function(i){this.floatTypeValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"integerTypeValidationFailed",{get:function(){return this.integerTypeValidationFailed_},set:function(i){this.integerTypeValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maximumNumberValidationFailed",{get:function(){return this.maximumNumberValidationFailed_},set:function(i){this.maximumNumberValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxStringLengthValidationFailed",{get:function(){return this.maxStringLengthValidationFailed_},set:function(i){this.maxStringLengthValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minimumNumberValidationFailed",{get:function(){return this.minimumNumberValidationFailed_},set:function(i){this.minimumNumberValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minStringLengthValidationFailed",{get:function(){return this.minStringLengthValidationFailed_},set:function(i){this.minStringLengthValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"patternValidationFailed",{get:function(){return this.patternValidationFailed_},set:function(i){this.patternValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"requiredValidationFailed",{get:function(){return this.requiredValidationFailed_},set:function(i){this.requiredValidationFailed_=i},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stringTypeValidationFailed",{get:function(){return this.stringTypeValidationFailed_},set:function(i){this.stringTypeValidationFailed_=i},enumerable:!0,configurable:!0}),i.booleanTypeValidationFailed="${value} must be a boolean.",i.customValidationFailed="Value ${value} failed custom validation.",i.enumValidationFailed="The value for ${value} is not in the list of allowed values",i.floatTypeValidationFailed="${value} must be a float.",i.integerTypeValidationFailed="${value} must be an integer.",i.maximumNumberValidationFailed="Must be no more than ${max}.",i.maxStringLengthValidationFailed="Must be no more than ${max} characters long.",i.minimumNumberValidationFailed="Must be at least ${min}.",i.minStringLengthValidationFailed="Must be at least ${min} characters long.",i.patternValidationFailed="The value for ${value} does not match the required pattern",i.requiredValidationFailed="This is a required field.",i.stringTypeValidationFailed="${value} must be a string.",i}();i.Strings=e}(i||(i={}));var i;!function(i){!function(i){i[i.BOOLEAN="boolean"]="BOOLEAN",i[i.FLOAT="float"]="FLOAT",i[i.INTEGER="integer"]="INTEGER",i[i.STRING="string"]="STRING"}(i.ValidationType||(i.ValidationType={}));i.ValidationType}(i||(i={}));var i;!function(i){var e=function(){function i(i){this.promises_=i||[],this.failureMessages_=[]}return i.prototype.add=function(i){var e=this;return i.forEach(function(i){e.promises_.push(i),i.then(function(){e.markCompleted_(i),e.checkForCompletion_()},function(t){e.failureMessages_.push(t),e.markCompleted_(i),e.checkForCompletion_()})}),this},i.prototype.build=function(){var i=this;return this.promise_=new Promise(function(e,t){i.promiseResolver_=e,i.promiseRejecter_=t}),this.checkForCompletion_(),this.promise_},i.prototype.checkForCompletion_=function(){this.promise_&&0===this.promises_.length&&(this.failureMessages_.length>0?this.promiseRejecter_(this.failureMessages_):this.promiseResolver_())},i.prototype.markCompleted_=function(i){this.promises_.splice(this.promises_.indexOf(i),1)},i}();i.ValidationPromiseBuilder=e}(i||(i={}));var i;!function(i){var e=function(){function e(e){this.strings_=e||new i.Strings}return Object.defineProperty(e.prototype,"strings",{get:function(){return this.strings_},set:function(i){this.strings_=i},enumerable:!0,configurable:!0}),e.prototype.validateField=function(e,t,a){var n=t[e],r=a[e];return(new i.ValidationPromiseBuilder).add(new i.RequiredValidator(this.strings).validate(n,t,r)).add(new i.TypeValidator(this.strings).validate(n,t,r)).add(new i.MinMaxValidator(this.strings).validate(n,t,r)).add(new i.EnumValidator(this.strings).validate(n,t,r)).add(new i.PatternValidator(this.strings).validate(n,t,r)).add(new i.CustomValidator(this.strings).validate(n,t,r)).build()},e}();i.ValidationService=e}(i||(i={}));var i;!function(i){var e=function(){function e(e){this.strings_=e||new i.Strings}return Object.defineProperty(e.prototype,"strings",{get:function(){return this.strings_},set:function(i){this.strings_=i},enumerable:!0,configurable:!0}),e.prototype.validate=function(){throw Error("Abstract validate method must be overridden.")},e}();i.AbstractValidator=e}(i||(i={}));var i,e=this.__extends||function(i,e){function t(){this.constructor=i}for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);t.prototype=e.prototype,i.prototype=new t};!function(i){var t=function(i){function t(){i.apply(this,arguments)}return e(t,i),t.prototype.validate=function(i,e,t){var a=this,n=[];return t.validators&&t.validators.forEach(function(t){var r=t(i,e);r instanceof Promise?n.push(new Promise(function(e,t){r.then(function(){e()},function(e){var n=e||a.strings.customValidationFailed;n=n.replace("${value}",i),t(n)})})):r||n.push(Promise.reject(a.strings.customValidationFailed))}),n},t}(i.AbstractValidator);i.CustomValidator=t}(i||(i={}));var i;!function(i){var t=function(i){function t(){i.apply(this,arguments)}return e(t,i),t.prototype.validate=function(i,e,t){var a=[];if(t["enum"]&&t["enum"].indexOf(i)<0){var n=t.enumFailureMessage||this.strings.enumValidationFailed;n=n.replace("${value}",i),a.push(Promise.reject(n))}return a},t}(i.AbstractValidator);i.EnumValidator=t}(i||(i={}));var i;!function(i){var t=function(i){function t(){i.apply(this,arguments)}return e(t,i),t.prototype.validate=function(i,e,t){var a,n=[];return t.min&&(a="string"==typeof i&&i.length<t.min?t.minFailureMessage||this.strings.minStringLengthValidationFailed:"number"==typeof i&&i<t.min?t.minFailureMessage||this.strings.minimumNumberValidationFailed:null,a&&(a=a.replace("${value}",i).replace("${min}",t.min),n.push(Promise.reject(a)))),t.max&&(a="string"==typeof i&&i.length>t.max?t.maxFailureMessage||this.strings.maxStringLengthValidationFailed:"number"==typeof i&&i>t.max?t.maxFailureMessage||this.strings.maximumNumberValidationFailed:null,a&&(a=a.replace("${value}",i).replace("${max}",t.max),n.push(Promise.reject(a)))),n},t}(i.AbstractValidator);i.MinMaxValidator=t}(i||(i={}));var i;!function(i){var t=function(i){function t(){i.apply(this,arguments)}return e(t,i),t.prototype.validate=function(i,e,t){var a=[];if(t.pattern&&!t.pattern.exec(i)){var n=t.patternFailureMessage||this.strings.patternValidationFailed;n=n.replace("${value}",i),a.push(Promise.reject(n))}return a},t}(i.AbstractValidator);i.PatternValidator=t}(i||(i={}));var i;!function(i){var t=function(i){function t(){i.apply(this,arguments)}return e(t,i),t.prototype.validate=function(i,e,t){var a=[];return t.required&&!i&&a.push(Promise.reject(t.requiredFailureMessage||this.strings.requiredValidationFailed)),a},t}(i.AbstractValidator);i.RequiredValidator=t}(i||(i={}));var i;return function(i){var t=function(t){function a(){t.apply(this,arguments)}return e(a,t),a.prototype.validate=function(e,t,a){var n=[];if(a.type){var r,o=void 0!==e&&null!==e?e.toString():void 0,l=Number(e);switch(a.type){case i.ValidationType.BOOLEAN:o&&"true"!=o&&"false"!=o&&(r=a.typeFailureMessage||this.strings.booleanTypeValidationFailed,r=r.replace("${value}",e),n.push(Promise.reject(r)));break;case i.ValidationType.FLOAT:o&&isNaN(l)&&(r=a.typeFailureMessage||this.strings.floatTypeValidationFailed,r=r.replace("${value}",e),n.push(Promise.reject(r)));break;case i.ValidationType.INTEGER:o&&(isNaN(l)||l%1!==0)&&(r=a.typeFailureMessage||this.strings.integerTypeValidationFailed,r=r.replace("${value}",e),n.push(Promise.reject(r)));break;case i.ValidationType.STRING:default:o&&"string"!=typeof e&&(r=a.typeFailureMessage||this.strings.stringTypeValidationFailed,r=r.replace("${value}",e),n.push(Promise.reject(r)))}}return n},a}(i.AbstractValidator);i.TypeValidator=t}(i||(i={})),i});
//# sourceMappingURL=forms-js.min.js.map